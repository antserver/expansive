<!DOCTYPE html>
<html lang="en">
<head>
    <title>Meta Data</title>
    <!-- Copyright Embedthis Software. All Rights Reserved. -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Meta Data" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700'
        rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Julius+Sans+One' rel='stylesheet' type='text/css'>
    <link href="../images/favicon.ico" rel="shortcut icon" />
    <link href="../semantic-ui/semantic.css" rel="stylesheet" type="text/css" />
    <link href="../css/all.css" rel="stylesheet" type="text/css" />
    

</head>
<body class="show-sidebar">
         <div class="sidebar">
        <div class="ui large left vertical inverted labeled menu">
            <div class="item">
                <a href="../index.html" class="logo">Expansive<br/>Docs</a>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../index.html">Home</a>
                    <a class="item" href="../users/features.html">Expansive Features</a>
                    <a class="item" href="https://embedthis.com/expansive/download.html">Download</a>
                    <a class="item" href="../licensing/index.html">Licensing</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../start/index.html">Getting Started</a>
                    <a class="item" href="../start/quick.html">Quick Start</a>
                    <a class="item" href="../start/installing.html">Installing Expansive</a>
                    <a class="item" href="../start/releaseNotes.html">Release Notes</a>
                    <a class="item" href="../start/source.html">Building from Source</a>
                </div>
            </div>


            <div class="item">
                <a href="../users/index.html"><b>User's Guide</b></a>
                <div class="menu">
                    <a class="item" href="../users/tour.html">Quick Tour</a>
                    <a class="item" href="../users/commands.html">Commands</a>
                    <a class="item" href="../users/files.html">Files and Directories</a>

                    <a class="item" href="../users/packages.html">Packages</a>
                    <a class="item" href="../users/skeletons.html">Skeletons</a>
                    <a class="item" href="../users/plugins.html">Plugins</a>

                    <a class="item" href="../users/meta.html">Meta Data</a>
                    <a class="item" href="../users/partials.html">Partials</a>
                    <a class="item" href="../users/layouts.html">Layouts</a>
                    <a class="item" href="../users/assets.html">Assets and Raw Files</a>

                    <a class="item" href="../users/stylescripts.html">Scripts and Stylesheets</a>
                    <a class="item" href="../users/collections.html">Collections</a>
                    <a class="item" href="../users/scripting.html">Scripting</a>

                    <a class="item" href="../users/rendering.html">Rendering</a>

                    <a class="item" href="../users/serving.html">Serving Content</a>
                    <a class="item" href="../users/deploying.html">Deploying a Site</a>
                    <a class="item" href="../users/configuration.html">Configuration</a>

                    <!-- query engine -->
                    <a class="item" href="../users/sitemaps.html">Sitemaps</a>
                    <a class="item" href="../users/troubleshoot.html">Troubleshooting</a>
                </div>
            </div>
            <div class="item">
                <a href="../developers/index.html">Developer's Guide</a>
                <div class="menu">
                    <a class="item" href="../developers/plugins.html">Creating Plugins</a>
                    <a class="item" href="../developers/skeletons.html">Creating Skeletons</a>
                    <a class="item" href="../man/expansive.txt">Manual Page</a>
                </div>
            </div>
            <div class="item">
                <a href="../developers/project.html">Project Resources</a>
                <div class="menu">
                    <!-- MOB -->
                    <a class="item" href="http://goo.gl/ynBrjA">Official Expansive News</a>
                    <a class="item" href="https://embedthis.com/expansive/">Expansive Web Site</a>
                    <a class="item" href="https://github.com/embedthis/exp">Source Code Repository</a>
                    <a class="item" href="https://github.com/embedthis/exp/issues">Project Issue Database</a>
                    <a class="item" href="https://github.com/embedthis/exp/releases">Change Log</a>
                    <a class="item" href="https://github.com/embedthis/exp/milestones">Roadmap</a>
                    <a class="item" href="https://embedthis.com/developers/contributors.html">Contributors Agreement</a>
                </div>
            </div>
            <div class="item">
                <b>Links</b>
                <div class="menu">
                    <a class="item" href="https://embedthis.com/">Embedthis Web Site</a>
                    <a class="item" href="https://embedthis.com/blog/">Embedthis Blog</a>
                    <a class="item" href="http://twitter.com/mobstream">Twitter</a>
                </div>
            </div>
        </div>
    </div>

    


    <div class="ui inverted masthead">
         
        <div class="ui fixed inverted menu">
            <div class="ui sidebar-launch button">
                <i class="icon list layout"></i>
            </div>
            <div class="right menu">
                  
                    <a class="item" href="https://embedthis.com/">Embedthis</a>
                    <a class="item" href="https://embedthis.com/expansive/">Expansive Site</a>
                    <span class="desktop-only">
                        <a class="item" href="http://goo.gl/dGRDl4">Expansive News</a>
                        <a class="item" href="https://github.com/embedthis/expansive">Repository</a>
                        <a class="item" href="https://embedthis.com/blog/">Blog</a>
                        <a class="item" href="https://twitter.com/mobstream">Twitter</a>
                    </span>

            </div>
        </div>
        
        <div class="ui breadcrumb">
            <a class="section" href="../">Home</a>
            
            <div class="divider">/</div>
            <a class="section" href="index.html">
                User's Guide
            </a>
            
            
            <div class="divider">/</div>
            <a class="active section" href="meta.html">Meta Data</a>
            
        </div>
        
        <iframe class="version desktop-only" src="../version.html"></iframe>

    </div>
    <div class="content">

   
      <h1>Meta Data</h1>

      <p>Web pages have a special area at the top of the page for Meta data. Meta data defines properties for the 
      page that can be passed to layout pages, partial pages and scripts to modify their behavior.</p>

      <h2>Defining Meta Data</h2>
      <p>Meta data is defined in several sources</p>
      <ul>
        <li>Top level expansive.json</li>
        <li>Content directory level expansive.json files</li>
        <li>Content pages</li>
        <li>Layout pages</li>
        <li>Partial pages</li>
      </ul>
      <p>When Expansive renders a file, it aggregates the meta data for the page by blending the meta data from these 
      sources. These sources are blended in this order with the latter sources overwriting the meta data from prior 
      sources. Note: meta data flows one way, top down. There is no way to globally set meta data from a subdirectory 
      <em>expansive.json</em> file or from a content page.</p>

      <h3>Top Level Meta Data</h3>
      <p>The top level expansive.json file defines the global meta data inherited by all pages. This is where you should
      define the web site's home url via the <em>site</em> property.</p>

      <h3>Directory Level Meta Data</h3>
      <p>To help partition an application, meta data may be defined by per-directory <em>expansive.json</em> files. 
      These files define meta data that applies to all pages in that directory or in subdirectories below. </p>

      <h3>Content Page Meta Data</h3>
      <p>Content pages define meta data inline at the top of the page. This meta data applies only to the page itself
      and is also passed to layout and partial pages as they are processed for the content page.</p>  

      <h2>Meta Data Files</h2>
      <p>To define meta data in <em>expansive.json</em> files, set the required property values in the <em>meta</em>
      property collection. For example:</p>

      <pre class="code">{
    meta: {
        property: 'value'
    }
}
</pre>
      <h2>Content Meta Data</h2>
      <p>To define meta data in a content, partial or layout page, set the required property values in the meta data
      section at the top of the page. For example, consider the page <em>contents/index.html</em>.</p>

      <pre class="code">{
    <b>color: 'red'</b>,
    title: 'Hello World'
}    

&lt;p&gt;Hello World&lt;/p&gt;
</pre>

      <p>This Meta data defines two properties <em>meta.color</em> and <em>meta.title</em> for this page. </p>

      <h3>JSON Syntax</h3>
      <p>Expansive supports a relaxed JSON syntax where property keys do not have to be quoted, and you can use a comma
      after the last property in an array or hash. Further, multiline strings
      are supported and may be delimited by single, double or back-tick quotes.</p>

      <p>The Meta section may contain any JSON object, so multiple property levels are permitted.</p>
      <pre class="code">{
    user: {
        name: 'George'
        age: 42,
        address: "1717 Cherry Lane
          London
          UK"
    }
}    
</pre>

      <h2>Accessing Meta Data</h2>
      <p>Meta data may be accessed in pages or scripts via the <em>meta</em> global script property.</p>

      <pre class="code">&lt;p&gt;Favorite Color is: &lt;&#64;= meta.color &#64;&gt;&lt;/p&gt;</pre>

      <p>For debugging, you can <em>print</em> properties or <em>dump</em> all the meta data to the expansive console.</p>

      <pre class="code">&lt;&#64; 
    print("COLOR", meta.color) 
    dump("META", meta)
&#64;&gt;
</pre>

        <a name="properties"></a>
        <h2>Meta Properties</h2>
        <p>These are the standard, pre-defined Meta properties available in content, layout and partial pages.</p>
        <table class="ui celled table" title="predefined">
        <thead>
            <tr><th>Property</th><th>Description</th></tr>
        </thead>
        <tbody>
            <tr><td>date</td><td>Current date and time</td></tr>
            <tr><td>description</td><td>Description of the web site. Sourced from the <em>description</em> 
                property in the package.json file.</td></tr>
            <tr><td>dest</td><td>Final destination name of the rendered page or file in the <em>dist</em> directory.</td></tr>
            <tr><td>document</td><td>Input file name of the page being processed. For partials and layouts, 
                this is set to the invoking content page.</td></tr>
            <tr><td>extension</td><td>The extension of the processed page filename.</td></tr>
            <tr><td>extensions</td><td>The set of extensions on the original content page.</td></tr>
            <tr><td>from</td><td>The filename extension being processed by the current transformation.</td></tr>
            <tr><td>isLayout</td><td>True if a layout is being processed.</td></tr>
            <tr><td>isPartial</td><td>True if a partial page is being processed.</td></tr>
            <tr><td>layout</td><td>Layout page in use. Set to '' if no layout being used.</td></tr>
            <tr><td>mode</td><td>Index name in the pak.modes property. The selected property collection is copied 
                up to the top level of the meta data. This may be used to select a <em>debug</em> or <em>release</em>
                 configuration.</td></tr>
            <tr><td>partial</td><td>Name of the partial page being processed.</td></tr>
            <tr><td>path</td><td>Destination filename of the page relative to the <em>dist</em> directory.</td></tr>
            <tr><td>service</td><td>Name of the transformation service being run.</td></tr>
            <tr><td>site</td><td>Home page URL for the web site.</td></tr>
            <tr><td>source</td><td>Current input source file being processed. May be a document, partial, layout or 
                any input resource file. Includes the <em>contents</em>, <em>lib</em>, <em>layouts</em> or <em>partials</em>
                directory.</td></tr>
            <tr><td>sourcePath</td><td>Source filename relative to the <em>contents</em>, <em>lib</em>, <em>layouts</em>, or 
                <em>partials</em> directories.</td></tr>
            <tr><td>title</td><td>Title of the web site. Sourced from the <em>title</em> property in the <em>package.json</em> 
                file.</td></tr>
            <tr><td>to</td><td>The destination filename extension after processing by the current transformation.</td></tr>
            <tr><td>top</td><td>URL for the top level home page of the site.</td></tr>
            <tr><td>url</td><td>URL for the current page.</td></tr>
        </tbody>
        </table>


        <h3>Layouts</h3>
        <p>A content page can request a different layout by adding a <em>layout</em>
        property to the meta data section of the content page. For example:</p>

        <pre class="code">{
    layout: 'product-layout'
    title:  'Hello World'
}    
&lt;h1&gt;Hello World with Layouts&lt;/h1&gt;
</pre>
        <p>This will select the <em>product-layout</em> in the <em>layouts</em> directory. Set the <em>layout</em>
        property to the empty string <em>""</em> to disable layout processing. Expansive uses the presence of
        a meta data section to enable layout processing. If you omit meta data in your page, you will disable 
        layout processing.</p>

      <h3>Partial Pages</h3>
      <p>You can pass one-off meta data parameters to a partial page without changing the general meta for the page. 
      Do this via the <em>partial</em>() function call. For example:</p>

      <pre class="code">&lt;@ partial('hero', { color: 'rec' }) @&gt;</pre>

    </div>
    <div class="terms ui basic center aligned segment">
        <p>&copy; Embedthis Software, 2003-2015. All rights reserved.</p>
    </div>

    <script src="../jquery/jquery.min.js"></script>
    <script src="../semantic-ui/semantic.js"></script>
    <script>
        var sl = $('.sidebar-launch');
        $('.sidebar-launch').click(function() {
            var body = $('body');
            if (!body.hasClass('show-sidebar')) {
                body.addClass('show-sidebar');
                $('.sidebar').css('visibility', 'visible');
            } else {
                body.removeClass('show-sidebar');
                $('.sidebar').css('visibility', 'hidden');
            }
        });
        $('.sidebar a.item').click(function(e) {
            sessionStorage.setItem('scroll-top', $('.sidebar').scrollTop());
        });
        $(function() {
            var url = '../users/meta.html';
            var active = $('.sidebar a[href="' + url +'"]');
            active.addClass('active');
            $('.sidebar').scrollTop(sessionStorage.getItem('scroll-top'));
        });
    </script> 

        

</body>
</html>
